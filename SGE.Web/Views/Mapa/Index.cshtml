@{
    ViewBag.Title = "Inicio";
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
<script type="text/javascript">
    $(document).ready(function () {

        //var imageUrl = 'http://www.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',
	    //imageBounds = [[40.712216, -74.22655], [40.773941, -74.12544]];
		mapa = L.map('mapa', {
	    center: [-34.598313, -58.463745],
	    zoom: 10,
	    minZoom: 4,
	    maxZoom:17,
	    zoomControl:true
		});
		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
	    attribution: ''}).addTo(mapa);
		//var marker = L.marker([-34.598494, -58.420186]).addTo(mapa).bindPopup("<button class='btn btn-info' onclick='alert(\"Soy medrano\")'>No me toques(o Si)</button>");

		//var marker2 = L.marker([-34.659438,-58.4704135]).addTo(mapa).on('click', onClick);
		//L.imageOverlay(imageUrl, imageBounds).addTo(mapa);
		//var myIcon = L.icon({
		//    //iconUrl: 'my-icon.png',
		//    iconUrl: 'http://www.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',
		//    iconRetinaUrl: 'my-icon@2x.png',
		//    iconSize: [38, 95],
		//    iconAnchor: [22, 94],
		//    popupAnchor: [-3, -76],
		//    //shadowUrl: 'my-icon-shadow.png',
		//    shadowUrl: 'http://www.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',
		//    shadowRetinaUrl: 'my-icon-shadow@2x.png',
		//    shadowSize: [68, 95],
		//    shadowAnchor: [22, 94]
		//});

		//L.marker([-34.659438, -58.4704135], { icon: myIcon }).addTo(mapa);

        // an image overlay that will be added to the overlays of a layer switcher
		//var image = L.imageOverlay(
        //    'http://www.lib.utexas.edu/maps/historical/newark_nj_1922.jpg',
        //    [[-34.697878, -58.468897], [-34.686919, -58.486813]], {
        //        opacity: .6
        //    }).addTo(mapa);
		var imageUrl = 'Images/transformador.png';
        //imageBounds = [[-34.697878, -58.468897], [-34.68924, -58.458313]];
		//L.imageOverlay(imageUrl, imageBounds).addTo(mapa);

		var polygon = L.polygon([
				[-34.697878, -58.468897],
			    [-34.686919, -58.486813],
			    [-34.651905, -58.530758],
			    [-34.614052, -58.529385],
			    [-34.552432, -58.499172],
			    [-34.533202, -58.46484],
			    [-34.582965, -58.381756],
			    [-34.634075, -58.35159],
			    [-34.65924, -58.418313]
			],{
				color: 'red',
				fillColor: 'blue',
			    fillOpacity: 0.1,
			    radius: 500
			}).addTo(mapa).on('click', onMapClick);
            
		$.getJSON('Mapa/TransformadoresJson', function (result) {
		    for (indice in result.Transformadores) {
		        imageBounds = [[result.Transformadores[indice].latitud, result.Transformadores[indice].longitud], [parseFloat(result.Transformadores[indice].latitud) + parseFloat('0.005'), parseFloat(result.Transformadores[indice].longitud) + parseFloat('0.005')]];
		        L.imageOverlay(imageUrl, imageBounds).addTo(mapa);
		    }
		});

		$.getJSON('Mapa/ZonasJson', function (result) {
		    for (zona in result.Zonas) {
		        L.circle([result.Zonas[zona].latitud, result.Zonas[zona].longitud], {
		            color: '#ABEBC6',
		            fillColor: '#ABEBC6',
		            fillOpacity: 0.5,
		            weight:2,
		            radius: result.Zonas[zona].radio
		        }).addTo(mapa);
		    }
		});

			//var circle = L.circle([-34.697878, -58.468897], {
			//							    color: 'blue',
			//							    fillColor: '#f03',
			//							    fillOpacity: 0.5,
			//							    radius: 500
			//							}).addTo(mapa);

		function onMapClick(e) {
		    alert("Latitud y Longitud: " + e.latlng);
		}
	});
	function onClick(e){
		var r = confirm("Ir a medrano?");
		if (r == true) {
			mapa.setView(new L.LatLng((-34.598494), (-58.420186)), parseInt(17));
		} else {
		}
	}
</script>

<div class="jumbotron">
    <h3>SGE - Sistema de Gestión Energética</h3>
    <p class="lead">
        Esta aplicación pretende concientizar al cliente residencial de la importancia de tener un "hogar eficiente" y de ayudar a lograrlo.
    </p>
    <a href="@Url.Action("Index", "Login")">Iniciar Sesion</a>
</div>
<div style="text-align: center;">
    @*<img src="~/Images/1.jpg" alt="SGE">*@

    <div id="mapa" style="height: 500px">
    </div> 

</div>

